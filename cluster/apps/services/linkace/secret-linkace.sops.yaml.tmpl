---
# yamllint disable
apiVersion: v1
kind: Secret
metadata:
  name: linkace-secret
  namespace: services
stringData:
  env: |
    ## Basic app configuration
    # The app key is generated later, please leave it like that
    APP_KEY="${SECRET_LINKACE}"

    # APP_URL="http://linkace.${SECRET_DOMAIN}"

    ## Configuration of the database connection
    ## Attention: Those settings are configured during the web setup, please do not modify them now.
    # Set the database driver (mysql, pgsql, sqlsrv)
    DB_CONNECTION=pgsql
    DB_HOST=linkace-cnpgdb.postgres.cluster.svc
    DB_PORT=5432
    DB_DATABASE=linkace
    DB_USERNAME=linkace
    DB_PASSWORD="${SECRET_DB_USER_PWD}"
    # required for postgres
    SETUP_COMPLETED=true

    ## Redis cache configuration
    # Set the Redis connection here if you want to use it
    REDIS_HOST=linkace-redis.redis.cluster.svc
    REDIS_PASSWORD="${SECRET_DB_USER_PWD}"
    REDIS_PORT=6379

    ## Mail configuration
    MAIL_FROM_ADDRESS="${SECRET_SMTP_ADDRESS}"
    MAIL_FROM_NAME=linkace
    # Set the driver used for sending email here, default is `smtp`
    MAIL_DRIVER=smtp
    # Set the SMTP host and its port here
    MAIL_HOST="${SECRET_SMTP_SRV}"
    MAIL_PORT="${SECRET_SMTP_PORT}"
    # Set the username used to connect to the SMTP server here
    MAIL_USERNAME="${SECRET_SMTP_USER}"
    # Set the password used to connect to the SMTP server here
    MAIL_PASSWORD="${SECRET_SMTP_PWD}"
    # If your SMTP server uses encrypted connections, enable it here by setting the variable to `tls`
    MAIL_ENCRYPTION=tls
